<!DOCTYPE html>

<!-- several macros that help do things serverside that the CRUDtilities do clientside - dropboxes, for one. -->
<macro name="optionList" collection="IEnumerable[[dynamic]]" target="String" accessor="Func[[dynamic, String]]" display="Func[[dynamic, String]]">
    <for each="var x in collection">
        <if condition="accessor(x) == target">
            <option selected="selected" value="${accessor(x)}">${display(x)}</option>
        </if>
        <else>
            <option value="${accessor(x)}">${display(x)}</option>
        </else>
    </for>
</macro>
<!-- this hardcodes STR_NOT_INSTANTIATED -->
<macro name="emptyOption" target="String" required="bool">
    <if condition='target == ""'>
        <if condition="!required">
            <option selected="selected" value="">-</option>
        </if>
        <else>
            <option selected="selected" value="">- (required!)</option>
        </else>
    </if>
</macro>

<html>
    <head>
        <title>RedTelephone</title>
        <link rel="stylesheet" href="~/Content/style.css" type="text/css" media="screen" />
		<script src="/Scripts/jquery-1.4.1.js"></script>
		<script src="/Scripts/jquery.validate.js"></script>
		<script src="/Scripts/jquery.tablednd_0_5.js" type="text/javascript"></script>
		<script src="/Scripts/CRUDtilities.js" type="text/javascript"></script>
    </head>

    <body>
        <nav>
            <div id="centering-hack">
                <ul>
                    <li>
                        <a href="/ticket">Tickets</a>
                    </li>
                    <li>
                        <a>Reporting</a>
                    </li>
					<li>
                        <a href="/referencedata">Reference Data</a>
                    </li>
                    <li>
                        <a href="/users">Users</a>
                    </li>
                    <li>
                        <a href="/auth/logout">Logout</a>
                    </li>
                </ul>
            </div>
        </nav>

    <use content="view"/>
    </body>
    
</html>